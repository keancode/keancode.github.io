---
layout: post
category: vi
author: neizod
---
{% include JB/setup %}

เราสามารถแบ่งหน้าจอการแสดงผล vi ได้โดยคำสั่งใน last line mode คือ

    :sp filename [Enter]

(ถ้าไม่ใส่ชื่อไฟล์เข้าไป จะเป็นการสร้างไฟล์เปล่าขึ้นมาครับ)

ซึ่งจะทำการแบ่งหน้าจอในแนวนอน (horizontal) ถ้าต้องการแบ่งหน้าตอในแนวตั้ง (vertical) ให้ใช้คำสั่ง

    :vsp filename [Enter]

อย่างไรก็ตาม ถ้าหากเผลอพิมพ์คำสั่งแบ่งหน้าจอพลาดไปแล้ว และต้องการแค่เปลี่ยนวิธีแบ่งหน้าจอ สามารถกดคำสั่งเหล่านี้ได้

    [Ctrl]+[w] [H] or [Ctrl]+[w] [L]
      change from horizontal -> vertical

    [Ctrl]+[w] [K] or [Ctrl]+[w] [J] 
      change from vertical -> horizontal

note นิดนึงว่าถ้าเปิดไฟล์มาผิดไฟล์ สามารถเปิดไฟล์บนหน้าต่างนั้นได้ด้วยคำสั่ง

    :e filename [Enter]

---

การย้ายหน้าต่างที่เราทำงาน ให้กด `[Ctrl]+[w]` นำ แล้วตามด้วยปุ่มทิศทาง `[h]`, `[j]`, `[k]`, `[l]` ของหน้าต่างที่จะย้ายไปทำงาน แต่ถ้ามีหน้าต่างไม่เยอะมาก อาจใช้

    [Ctrl]+[w] [w]
    [Ctrl]+[w] [W]

เพื่อสลับระหว่างหน้าต่างได้เช่นกัน

---

การเพิ่ม-ลดขนาดหน้าต่างในแนวนอน สามารถทำได้โดยกด

    [+] [Ctrl]+[w]
    [-] [Ctrl]+[w]

ที่น่าสนใจคือ เราสามารถกำหนด prefix number ได้ด้วย เช่น `[3] [+] [Ctrl]+[w]`

ส่วนการเพิ่ม-ลดขนาดในแนวตั้ง ใช้ `[<]` กับ `[>]` แทนครับ

    [<] [Ctrl]+[w]
    [>] [Ctrl]+[w]

---

สุดท้าย คือเมื่อเราจัดหน้าต่างทำงานอย่างสวยงามแล้ว แต่เราต้องกลับไป build-test บน shell แล้วไม่อยากออกโปรแกรม vi เพราะต้องกลับเข้ามาจัดหน้าต่างใหม่อีก ตรงนี้สามารถแวะเข้า shell โดยคำสั่งนี้ก่อนได้ครับ

    :sh [Enter]

เมื่อทำงานบน shell เสร็จแล้ว จะกลับเข้าโปรแกรม vi ก็สั่ง `exit` จาก shell ได้เลย

ส่วนการปิด vi ที่มีหลายๆ หน้าต่าง ทำได้โดยเติมตัว `a` หลัง `:q` (ถ้าไม่เติม `a` จะเป็นการปิดทีละหน้าต่าง) ครับ

    :qa [Enter]
